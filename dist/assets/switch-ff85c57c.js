import{t as C,H as k,M as B,f as V,K as F,b as U,T as G,a as g,o as I}from"./description-044bc515.js";import{r as m,b as d,d as S,e as L,f as R,u as A,i as T,p as $,x as H,y as w,F as M}from"./index-7413310e.js";import{b as Y}from"./use-resolve-button-type-5c34f7c8.js";function q(t){var a;let u=(a=t==null?void 0:t.form)!=null?a:t.closest("form");if(u){for(let e of u.elements)if(e.tagName==="INPUT"&&e.type==="submit"||e.tagName==="BUTTON"&&e.type==="submit"||e.nodeName==="INPUT"&&e.type==="image"){e.click();return}}}function z(t,a,u){let e=m(u==null?void 0:u.value),o=d(()=>t.value!==void 0);return[d(()=>o.value?t.value:e.value),function(r){return o.value||(e.value=r),a==null?void 0:a(r)}]}let x=Symbol("LabelContext");function E(){let t=T(x,null);if(t===null){let a=new Error("You used a <Label /> component, but it is not inside a parent.");throw Error.captureStackTrace&&Error.captureStackTrace(a,E),a}return t}function J({slot:t={},name:a="Label",props:u={}}={}){let e=m([]);function o(r){return e.value.push(r),()=>{let n=e.value.indexOf(r);n!==-1&&e.value.splice(n,1)}}return $(x,{register:o,slot:t,name:a,props:u}),d(()=>e.value.length>0?e.value.join(" "):void 0)}let Q=S({name:"Label",props:{as:{type:[Object,String],default:"label"},passive:{type:[Boolean],default:!1},id:{type:String,default:()=>`headlessui-label-${C()}`}},setup(t,{slots:a,attrs:u}){let e=E();return L(()=>R(e.register(t.id))),()=>{let{name:o="Label",slot:r={},props:n={}}=e,{id:p,passive:c,...v}=t,i={...Object.entries(n).reduce((b,[h,y])=>Object.assign(b,{[h]:A(y)}),{}),id:p};return c&&(delete i.onClick,delete i.htmlFor,delete v.onClick),k({ourProps:i,theirProps:v,slot:r,attrs:u,slots:a,name:o})}}}),O=Symbol("GroupContext"),_=S({name:"SwitchGroup",props:{as:{type:[Object,String],default:"template"}},setup(t,{slots:a,attrs:u}){let e=m(null),o=J({name:"SwitchLabel",props:{htmlFor:d(()=>{var n;return(n=e.value)==null?void 0:n.id}),onClick(n){e.value&&(n.currentTarget.tagName==="LABEL"&&n.preventDefault(),e.value.click(),e.value.focus({preventScroll:!0}))}}}),r=B({name:"SwitchDescription"});return $(O,{switchRef:e,labelledby:o,describedby:r}),()=>k({theirProps:t,ourProps:{},slot:{},slots:a,attrs:u,name:"SwitchGroup"})}}),ee=S({name:"Switch",emits:{"update:modelValue":t=>!0},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,optional:!0},name:{type:String,optional:!0},value:{type:String,optional:!0},id:{type:String,default:()=>`headlessui-switch-${C()}`}},inheritAttrs:!1,setup(t,{emit:a,attrs:u,slots:e,expose:o}){let r=T(O,null),[n,p]=z(d(()=>t.modelValue),l=>a("update:modelValue",l),d(()=>t.defaultChecked));function c(){p(!n.value)}let v=m(null),i=r===null?v:r.switchRef,b=Y(d(()=>({as:t.as,type:u.type})),i);o({el:i,$el:i});function h(l){l.preventDefault(),c()}function y(l){l.key===g.Space?(l.preventDefault(),c()):l.key===g.Enter&&q(l.currentTarget)}function P(l){l.preventDefault()}let f=d(()=>{var l,s;return(s=(l=I(i))==null?void 0:l.closest)==null?void 0:s.call(l,"form")});return L(()=>{H([f],()=>{if(!f.value||t.defaultChecked===void 0)return;function l(){p(t.defaultChecked)}return f.value.addEventListener("reset",l),()=>{var s;(s=f.value)==null||s.removeEventListener("reset",l)}},{immediate:!0})}),()=>{let{id:l,name:s,value:j,...N}=t,D={checked:n.value},K={id:l,ref:i,role:"switch",type:b.value,tabIndex:0,"aria-checked":n.value,"aria-labelledby":r==null?void 0:r.labelledby.value,"aria-describedby":r==null?void 0:r.describedby.value,onClick:h,onKeyup:y,onKeypress:P};return w(M,[s!=null&&n.value!=null?w(V,F({features:U.Hidden,as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:n.value,name:s,value:j})):null,k({ourProps:K,theirProps:{...u,...G(N,["modelValue","defaultChecked"])},slot:D,attrs:u,slots:e,name:"Switch"})])}}}),te=Q;export{ee as a,_ as o,te as u};
